<html>
<head>
	<!-- 03. Write a function that finds all the occurrences of word in a text
		The search can case sensitive or case insensitive
		Use function overloading
	-->
	<title>Task 03</title>
	<link href="styles/js-console.css" rel="stylesheet" />
</head>
<body>
	<div id="js-console">
		<a href="01.LastDigitAnEnglish.html">Task 01</a>
		<a href="02.ReversesTheDigits.html">Task 02</a>
		<a href="03.FindsWordInAText.html">Task 03</a>
		<a href="04.CountDivs.html">Task 04</a>
		<a href="05.HowManyTimesNumberAppears.html">Task 05</a>
		<a href="06.BiggerFromNeighbors_01.html">Task 06</a>
		<a href="07.BiggerFromNeighbors_02.html">Task 07</a>
		<div>
			<p>
				03. Write a function that finds all the occurrences of word in a text<br />
				The search can case sensitive or case insensitive<br />
				Use function overloading
			</p>
			<p>
				For Test Input:<br />
				Write, a. ?Function! that finds Write a function that finds all functions the function occurrences of word Function in a text<br />
				<br />
				Function
			</p>
			<label for="tb-text">Enter a text: </label>
			<input type="text" id="tb-text" />
			<br />
			<label for="tb-word">Enter a word: </label>
			<input type="text" id="tb-word" onkeypress="runScript(event)" />
			<a href="#" onclick="onFindBiggerButtonClick()">Search</a>
		</div>
	</div>
	<script src="scripts/js-console.js"></script>
	<script type="text/javascript">
		function runScript(e) {
			if (e.keyCode == 13) {
				onFindBiggerButtonClick();
			}
		}

		function countWord(text, wordToSearch, isCaseSensitive) {
			isCaseSensitive = isCaseSensitive || false;
			var count = 0;
			if (!(text.length === "") && !(wordToSearch === "")) {
				var textTemp = text;
				var wordsArray = [];
				textTemp = textTemp.replace(",", " ");
				textTemp = textTemp.replace(".", " ");
				textTemp = textTemp.replace("!", " ")
				textTemp = textTemp.replace("?", " ")
				if (isCaseSensitive === false) {
					textTemp = textTemp.toLowerCase();
					wordToSearch = wordToSearch.toLowerCase();
				}
				wordsArray = textTemp.split(" ");
				for (var i = 0; i < wordsArray.length; i++) {
					if (wordsArray[i] == wordToSearch) {
						count++;
					}
				}
			}
			return count;
		}

		function onFindBiggerButtonClick() {
			var text = jsConsole.read("#tb-text");
			var wordToSearch = jsConsole.read("#tb-word");
			jsConsole.writeLine(text);
			jsConsole.writeLine("insensitive: " + countWord(text, wordToSearch));
			jsConsole.writeLine("sensitive: " + countWord(text, wordToSearch, true));
		}
	</script>
</body>
</html>